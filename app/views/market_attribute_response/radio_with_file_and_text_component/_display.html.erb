<div class="field-layout-container">
  <div class="field-layout-content">
    <div class="fr-grid-row fr-mb-2w">
      <div class="fr-col">
        <strong><%= component.field_label %></strong>

        <% if component.ess_api_data? %>
          <%# API-fetched ESS data - use dedicated component %>
          <br>
          <%= render MarketAttributeResponse::ApiDisplay::EssComponent.new(
            market_attribute_response: component.market_attribute_response,
            context: component.context
          ) %>
        <% elsif component.show_value? && component.radio_yes? %>
          <br>

          <% if component.text? %>
            <div class="fr-mb-2w">
              <strong class="fr-text--sm"><%= component.response_label %></strong><br>
              <%= component.formatted_text %>
            </div>
          <% end %>

          <% if component.documents_attached? %>
            <div>
              <strong class="fr-text--sm"><%= component.attached_documents_label %></strong><br>
              <% component.documents.each do |document| %>
                <%= render MarketAttributeResponse::Shared::DocumentItemComponent.new(
                  document: document,
                  market_application: component.market_attribute_response.market_application,
                  context: component.context,
                  naming_service: component.naming_service
                ) %>
              <% end %>
            </div>
          <% end %>

          <% if !component.text? && !component.documents_attached? %>
            <span class="fr-text--md"><%= component.no_info_message %></span>
          <% end %>
        <% end %>
      </div>

      <div class="fr-col-auto field-badge-container">
        <% unless component.ess_api_data? %>
          <% if component.show_value? %>
            <div class="<%= component.badge_class %>"><%= component.badge_label %></div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <div class="field-layout-badge">
    <%= render SourceBadgeComponent.new(market_attribute_response: component.market_attribute_response) %>
  </div>
</div>
<hr class="fr-hr">
