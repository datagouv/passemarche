<% content_for :title, "#{@public_market.editor.name} - Documents optionnels" %>

<div class="fr-grid-row fr-grid-row--gutters">
  <div class="fr-col-12">
    <div class="fr-stepper">
      <h2 class="fr-stepper__title">
        Étape 2 sur 2 : Documents optionnels
      </h2>
      <div class="fr-stepper__steps" data-fr-current-step="2" data-fr-steps="2">
      </div>
    </div>
  </div>
</div>

<div class="fr-grid-row fr-grid-row--gutters fr-mt-4w">
  <div class="fr-col-12">
    <div class="fr-mb-6w">
      <h1 class="fr-h1 fr-mb-2w">Documents optionnels</h1>
      <p class="fr-text--lg fr-mb-0">
        Sélectionnez les documents supplémentaires que vous souhaitez 
        demander aux entreprises candidates pour ce marché.
      </p>
    </div>

    <div class="fr-mb-4w">
      <h2 class="fr-card__title fr-mb-3w">Informations du marché</h2>
      
      <div class="fr-mb-2w">
        <h3 class="fr-text--md fr-mb-1w fr-text--bold">Nom du marché</h3>
        <p class="fr-text--sm fr-mb-0"><%= @public_market.market_name %></p>
      </div>

      <% if @public_market.lot_name.present? %>
        <div class="fr-mb-2w">
          <h3 class="fr-text--md fr-mb-1w fr-text--bold">Nom du lot</h3>
          <p class="fr-text--sm fr-mb-0"><%= @public_market.lot_name %></p>
        </div>
      <% end %>
    </div>

    <%= form_with model: @public_market, url: wizard_path, local: true, data: { turbo: false } do |form| %>
      <div class="fr-mb-4w">
        <h2 class="fr-card__title fr-mb-3w">Sélection de documents</h2>
        <div class="fr-callout fr-callout--brown-caramel">
          <h3 class="fr-callout__title">
            <span class="fr-icon-settings-5-line" aria-hidden="true"></span>
            Configuration
          </h3>
          <p class="fr-callout__text">
            Cochez les documents supplémentaires que vous souhaitez demander aux candidats.
            Ces documents s'ajouteront aux documents obligatoires.
          </p>
        </div>

        <div class="fr-mt-3w">
          <div class="fr-fieldset__element">
            <div class="fr-checkbox-group">
              <input type="checkbox" id="document-1" name="optional_documents[]" value="references_clients">
              <label class="fr-label" for="document-1">
                Références clients
                <span class="fr-hint-text">Liste des principaux clients et projets réalisés</span>
              </label>
            </div>
          </div>

          <div class="fr-fieldset__element">
            <div class="fr-checkbox-group">
              <input type="checkbox" id="document-2" name="optional_documents[]" value="bilans_comptables">
              <label class="fr-label" for="document-2">
                Bilans comptables
                <span class="fr-hint-text">3 derniers bilans comptables certifiés</span>
              </label>
            </div>
          </div>

          <div class="fr-fieldset__element">
            <div class="fr-checkbox-group">
              <input type="checkbox" id="document-3" name="optional_documents[]" value="certifications_qualite">
              <label class="fr-label" for="document-3">
                Certifications qualité
                <span class="fr-hint-text">ISO 9001, ISO 14001, etc.</span>
              </label>
            </div>
          </div>

          <div class="fr-fieldset__element">
            <div class="fr-checkbox-group">
              <input type="checkbox" id="document-4" name="optional_documents[]" value="moyens_techniques">
              <label class="fr-label" for="document-4">
                Moyens techniques
                <span class="fr-hint-text">Description du matériel et des équipements</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="fr-mb-4w">
        <div class="fr-btns-group fr-btns-group--right fr-btns-group--inline">
          <%= link_to previous_wizard_path, class: "fr-btn fr-btn--secondary" do %>
            Précédent
          <% end %>
          <%= form.submit "Autoriser la candidature via #{@public_market.editor.name}", class: "fr-btn fr-btn--lg" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
